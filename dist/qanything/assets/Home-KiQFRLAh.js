import{a as Le,u as X,p as ne}from"./useUploadFiles-DQWWhNd-.js";import{g as ie,u as ut}from"./index-Dazi2bDt.js";import{d as Z,o as p,f as _,G as o,D as f,u as s,aE as re,aF as ue,$ as W,r as D,v as h,aC as k,aB as B,j as F,aD as S,C as z,F as J,af as ge,E as Q,n as N,c as dt,l as Fe,m as ht,z as le,M as E,O as R,y as q,P as pt,B as me,R as vt}from"./index-C5ueqVSw.js";import{u as ye,r as Oe,a as _t,b as ft,C as mt}from"./utils-Daiis6_Y.js";import{u as gt,a as yt,b as Te,D as bt,f as kt,h as wt,_ as Ct,c as St,T as Dt}from"./html2canvas.esm-DuvKmlF7.js";import{_ as At,O as It}from"./OptionList-DBe58Wno.js";import{u as xt,_ as Be}from"./useChatSource-H7bpI6mk.js";import{u as ce,C as qt,a as $t}from"./ChatInfoPanel-BNealT-o.js";import{u as Lt}from"./useChatSetting-hc8PUGpz.js";import{B as Ot}from"./RightOutlined-CQzT6T_P.js";import{_ as Tt}from"./ActionButton-CjNWFszI.js";import{_ as Bt}from"./index-D_4vnk7Z.js";import"./axios-CCb-kr4I.js";import"./initDefaultProps-B9L7UfZz.js";import"./index-DfEbSR-6.js";import"./index-D9jmw5IA.js";import"./isEqual-CTTcY68N.js";import"./isLength-Bi8VLir2.js";import"./slide-DTrPMIeS.js";import"./index-CH4dUSUq.js";import"./index-dxmTYXF3.js";import"./class-DeKWk5pD.js";import"./fromPairs-Dx9PT-t0.js";import"./index-Bt-yWqAO.js";import"./responsiveObserve-D8026whl.js";import"./isSymbol-BrPnLyLz.js";import"./index-DXxMM-MP.js";import"./collapseMotion-DtmDQccu.js";import"./injectionKey-DGYNie3Z.js";import"./index-BCl-s0As.js";import"./hasIn-C6ISJIJJ.js";import"./_getPrototype-CBN5gxgw.js";const Ft="/qanything/assets/icon-file-Bxz0aRpP.png",Et=v=>(re("data-v-870169ac"),v=v(),ue(),v),Rt={class:"upload-box"},Nt=Et(()=>o("img",{class:"icon-file",src:Ft,alt:"图标"},null,-1)),Qt={class:"title"},jt={class:"desc-content"},Ut={class:"desc"},zt={class:"desc"},Ht=Z({__name:"UploadDom",emits:["update"],setup(v,{emit:r}){const u=ie().home,m=r,w=()=>{m("update")};return(l,y)=>(p(),_("div",Rt,[o("div",{class:"tips",onClick:w},[Nt,o("p",Qt,f(s(u).startDec),1),o("div",jt,[o("p",Ut,f(s(u).updesc2),1),o("p",zt,f(s(u).require1),1)])])]))}}),Kt=W(Ht,[["__scopeId","data-v-870169ac"]]),Mt=v=>(re("data-v-387b8125"),v=v(),ue(),v),Pt={class:"default"},Vt={class:"box"},Yt={class:"title"},Jt=Mt(()=>o("span",null," ",-1)),Xt={class:"color"},Zt={class:"desc"},Wt=Z({__name:"Defaultpage",setup(v){const r=ie().home,{setFileList:u}=Le(),{setModalVisible:m}=Le(),{setCurrentId:w,getList:l,setCurrentKbName:y}=X(),H=[".doc",".docx",".ppt",".pptx",".xls",".xlsx",".pdf",".md",".jpg",".jpeg",".png",".txt",".eml"],K=D(""),M=async()=>{console.log("updata");try{const d=await ye.createKb({kb_name:r.defaultName});+d.code==200&&(K.value=d.data.kb_id,w(d.data.kb_id),y(d.kb_name),m(!0),l())}catch(d){u([]),k.error(d.msg)}};return(d,G)=>(p(),_("div",Pt,[o("div",Vt,[o("p",Yt,[o("span",null,f(s(r).homeTitle1),1),Jt,o("span",Xt,f(s(r).homeTitle2),1)]),o("p",Zt,f(s(r).defaultDec),1),h(Kt,{"accept-list":H,onUpdate:M})])]))}}),Gt=W(Wt,[["__scopeId","data-v-387b8125"]]),es="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAEgSURBVFiF7ZaxDcJADEVt0lAyQkaAKzIHI0BxkmeKCxiFAaKDDRAdJQvkQpNIEeQu9gVoyK8SXZz/ZPssA8ya9e/KYofW2nVRFMuqqh4pP5fEL0IHRJQj4tl7f7XW7hLMd734tRqgrutV94yIBw1Ea37o3rMsC2YgWALn3N0Yc0PEbQuxNcbcnHMXjXnTNPuyLE9qgBbiooEYMmfmY8wjCqCBSDEXAUggUs0BAFDyUachoxYoyVwNMATRl9YcQFiCvl7LMcUcIDIHfiV1BkIlkM6Jt7gp5p9oQnEGQldNO6ySAMbu+RSIUQDpkEmFGNsHVBMuBSLYhESUe++vUvMR8A0zD0KI9gFtZzPzsbshAPF9ICoiymPbzLfjZ836Dz0BusANDR+zFvgAAAAASUVORK5CYII=",ts=v=>(re("data-v-b9aad642"),v=v(),ue(),v),ss={class:"history-chat"},os={class:"history-chat-content"},as={class:"list"},ns=ts(()=>o("div",{class:"line"},null,-1)),ls=["onClick"],cs=["onClick"],is=Z({__name:"HistoryChat",props:{observer:{type:Object,required:!0},observeDom:{type:Object,default:null},qaObserver:{type:Object,required:!0},qaObserveDom:{type:Object,default:null},showLoading:{type:Boolean,require:!0}},emits:["scrollBottom","setObserveDom","setQaObserverDom","clearHistory"],setup(v,{emit:r}){const u=v,{chatList:m,chatId:w,QA_List:l,qaPageId:y,pageId:H,historyList:K}=B(ce()),{deleteHistoryList:M,getChatById:d}=ce(),{setSelectList:G}=X(),$=r;function de(C){l.value.push({question:C,type:"user"})}function j(C,A,i,V,b,x){l.value.push({answer:i,question:C,itemInfo:A,type:"ai",qaId:b,copied:!1,like:!1,unlike:!1,source:x||[],showTools:!0,picList:V})}async function he(C){if(!u.showLoading){w.value=C.historyId,l.value=[],y.value=1,G([...C.kbIds]),$("clearHistory");try{const A=d(w.value);u.qaObserveDom!==null&&(u.qaObserver.unobserve(u.qaObserveDom),$("setQaObserverDom",null)),A.list.forEach(i=>{i.type==="user"?de(i.question):i.type==="ai"&&j(i.question,i.itemInfo,i.answer,i.picList,i.qaId,i.source)}),$("scrollBottom"),A.list.length>=50&&await N(()=>{const i=document.getElementsByClassName("chat-li");i.length&&(u.qaObserver.observe(i[0]),$("setQaObserverDom",i[0]))})}catch(A){k.error(A.msg||"获取问答历史失败")}}}function P(){if(!u.showLoading){if(w.value===null){k.info("已切换最新对话");return}w.value=null,l.value=[],y.value=1,H.value=1,$("clearHistory")}}async function pe(C,A){if(!u.showLoading)try{M(C.historyId),C.historyId===w.value&&P(),k.success("删除成功"),m.value.splice(A,1),await N(()=>{ee()})}catch(i){k.error(i.msg||"删除失败")}}function ee(){if(u.qaObserveDom!==null){u.qaObserver.unobserve(u.qaObserveDom),$("setQaObserverDom",null);const C=document.getElementsByClassName("chat-li");C.length&&(u.qaObserver.observe(C[0]),$("setQaObserverDom",C[0]))}}return(C,A)=>(p(),_("div",ss,[o("div",os,[o("div",as,[o("div",{class:F(["new-chat",[v.showLoading?"disabled":"",s(w)===null?"new-active":""]]),onClick:P},[h(S,{name:"new-chat"}),z(" "+f(s(ie)().home.newConversation),1)],2),(p(!0),_(J,null,ge(s(K),(i,V)=>(p(),_("div",{key:i.historyId,class:F(["chat-item",s(w)===i.historyId?"item-active":"",v.showLoading?"disabled":""])},[ns,o("span",{onClick:b=>he(i)},f(i.title),9,ls),s(w)===i.historyId?(p(),_("img",{key:0,src:es,class:"close-icon",alt:"close",onClick:b=>pe(i,V)},null,8,cs)):Q("",!0)],2))),128))])])]))}}),rs=W(is,[["__scopeId","data-v-b9aad642"]]),Ee=v=>(re("data-v-ca948db2"),v=v(),ue(),v),us={class:"container showSider"},ds={class:"my-page"},hs={key:0,class:"user"},ps=Ee(()=>o("img",{class:"avatar",src:Ct,alt:"头像"},null,-1)),vs={class:"question-text"},_s={key:1,class:"ai"},fs=Ee(()=>o("img",{class:"avatar",src:St,alt:"头像"},null,-1)),ms={class:"ai-content"},gs={class:"ai-right"},ys={key:0},bs={key:1},ks={class:"source-list"},ws={class:"control"},Cs={class:"tips"},Ss=["href"],Ds=["onClick"],As={class:"source-content"},Is={class:"score"},xs={class:"tips"},qs={key:1,class:"feed-back"},$s=["onClick"],Ls={class:"reload-text"},Os={class:"tools"},Ts={key:0,class:"stop-btn"},Bs={class:"question-box"},Fs={class:"question"},Es={class:"send-box"},Rs={class:"send-action"},Ns=Z({__name:"Chat",setup(v){const r=ie().common,u=new Dt(e=>{e&&(l.value[l.value.length-1].answer+=e||"")}),{selectList:m,knowledgeBaseList:w}=B(X()),{QA_List:l,chatId:y,pageId:H,qaPageId:K,historyList:M}=B(ce()),{chatSettingFormActive:d}=B(Lt()),{copy:G}=gt(),{addHistoryList:$,updateHistoryList:de,addChatList:j,clearChatList:he}=ce(),{setChatSourceVisible:P,setSourceType:pe,setSourceUrl:ee,setTextContent:C}=xt(),{language:A}=B(ut()),i=D(""),V=dt(()=>{const e=d.value.context;if(e===0)return[];const t=l.value.filter(n=>n.type==="ai");return(e===11?t:t.slice(-e)).map(n=>[n.question,n.answer])}),b=D(!1),x=D([]),te=D(null),se=D(null);let L;const Re=D(null),be=D(null),O=()=>{N(()=>{N(()=>{var e;(e=be.value)==null||e.scrollIntoView({behavior:"smooth",block:"end"})})})},ke=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&(console.log("entry.isIntersecting"),H.value++)})}),we=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&(console.log("qa entry.isIntersecting"),K.value++)})});Fe(()=>{O()}),ht(()=>{te.value&&ke.unobserve(te.value),se.value&&we.unobserve(se.value)});const Ne=e=>{e.keyCode===13&&(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey?i.value+=`
`:ve(),e.preventDefault())},Qe=yt((e,t)=>{if(e.like=!e.like,e.unlike=!1,_czc.push(["_trackEvent","qanything","问答页面","点赞","",""]),e.like){t.target.parentNode.style.animation="shake ease-in .5s";const a=setTimeout(()=>{clearTimeout(a),t.target.parentNode.style.animation=""},600)}},800),je=e=>{e.unlike=!e.unlike,e.like=!1,_czc.push(["_trackEvent","qanything","问答页面","点踩","",""])},Ue=e=>{G(e.answer).then(()=>{e.copied=!e.copied,k.success(r.copySuccess,1);const t=setTimeout(()=>{clearTimeout(t),e.copied=!e.copied},1e3)}).catch(()=>{k.error(r.copyFailed,1)})},ze=e=>{l.value.push({question:e,type:"user"}),O()},Ce=e=>{l.value.push({answer:"",question:e,onlySearch:d.value.capabilities.onlySearch,type:"ai",copied:!1,like:!1,unlike:!1,source:[],showTools:!1})},U=new mt,He=e=>{te.value=e},Ke=e=>{se.value=e},Se=(e,t,a)=>{try{de(e,t,a)}catch(n){k.error(n.msg||"更新对话失败")}};function Me(){if(!m.value.length)return;const e=[];m.value.forEach(t=>{w.value.some(a=>a.kb_id===t)&&e.push(t)}),m.value=e,M.value.forEach(t=>{y.value!==null&&t.historyId===y.value&&t.kbIds.join("")!==m.value.join("")&&Se(t.title,t.historyId,m.value)})}const Pe=()=>{L&&L.abort("停止对话"),u.done(),b.value=!1,l.value[l.value.length-1].showTools=!0},Ve=e=>{try{if(y.value!==null)return;e.length>100&&(e=e.substring(0,100)),y.value=$(e),Se(e,y.value,m.value)}catch(t){k.error(t.msg||"创建对话失败")}},ve=async()=>{if(!i.value.trim().length)return;if(b.value){k.warn("正在聊天中...请等待结束");return}if(!await at()){k.error("模型设置错误，请先检查模型配置");return}if(Me(),m.value.length)k.info({content:r.type==="zh"?`已选择 ${m.value.length} 个知识库进行问答`:` ${m.value.length} knowledge base has been selected`,icon:" "});else return k.warning(r.chooseError);const e=i.value;Ve(e),i.value="",ze(e),j(y.value,l.value),b.value=!0,L=new AbortController;const t={kb_ids:m.value,history:V.value,question:e,streaming:d.value.capabilities.onlySearch===!1,networking:d.value.capabilities.networkSearch,product_source:"saas",rerank:d.value.capabilities.rerank,only_need_search_results:d.value.capabilities.onlySearch,hybrid_search:d.value.capabilities.mixedSearch,max_token:d.value.maxToken,api_base:d.value.apiBase,api_key:d.value.apiKey,model:d.value.apiModelName,api_context_length:d.value.apiContextLength,chunk_size:d.value.chunkSize,top_p:d.value.top_P,top_k:d.value.top_K,temperature:d.value.temperature};if(d.value.capabilities.onlySearch){U.addChatSetting(d.value),Ce(e);try{const a=await Oe(await ye.sendQuestion(t,{signal:L.signal}));a.code===200&&(l.value[l.value.length-1].answer=a!=null&&a.source_documents.length?r.searchCompleted:r.searchNotFound,l.value[l.value.length-1].source=a==null?void 0:a.source_documents)}catch(a){console.log("出错",a),l.value[l.value.length-1].answer=a.msg||"error"}b.value=!1,l.value[l.value.length-1].showTools=!0,j(y.value,l.value),await N(()=>{O()})}else kt(ft+"/local_doc_qa/local_doc_chat",{method:"POST",headers:{"Content-Type":"application/json",Accept:["text/event-stream","application/json"]},openWhenHidden:!0,body:JSON.stringify({user_id:_t,...t}),signal:L.signal,onopen(a){console.log("open",a),Ce(e),a.ok&&a.headers.get("content-type")==="text/event-stream"?(U.addChatSetting(d.value),u.start()):a.headers.get("content-type")==="application/json"&&u.add("Error 请检查模型是否配置正确")},onmessage(a){var T,c;console.log("message",a);const n=JSON.parse(a.data);if((n==null?void 0:n.code)==200&&(n!=null&&n.response)&&n.msg==="success")u.add(n==null?void 0:n.response),O();else{const I=n.time_record.time_usage;delete I.retriever_search_by_milvus,U.addTime(n.time_record.time_usage),U.addToken(n.time_record.token_usage),U.addDate(Date.now())}(T=n==null?void 0:n.source_documents)!=null&&T.length&&(l.value[l.value.length-1].source=n==null?void 0:n.source_documents),(c=n==null?void 0:n.show_images)!=null&&c.length&&(n==null||n.show_images.map(I=>{u.add(I),console.log(l.value.at(-1).answer)}))},onclose(a){console.log("close",a),u.done(),L.abort(),b.value=!1,l.value[l.value.length-1].showTools=!0,l.value.at(-1).itemInfo=U.getChatInfo(),j(y.value,l.value),N(()=>{O()})},onerror(a){throw console.log("error",a),u==null||u.done(),L==null||L.abort(),b.value=!1,l.value[l.value.length-1].showTools=!0,k.error(a.msg||"出错了"),j(y.value,l.value),N(()=>{O()}),a}})},Ye=e=>{console.log("reAnswer"),i.value=e.question,ve()},Je=(e,t)=>{e.source[t].showDetailDataSource=!e.source[t].showDetailDataSource},Xe=(e,t)=>{e.source[t].showDetailDataSource=!1},Ze=e=>{x.value.push(e)},We=e=>{x.value=x.value.filter(t=>t!==e)},{showModal:_e}=B(Te()),fe=D(!1),oe=D(""),Y=D(""),Ge=()=>{b.value||(Y.value="download",_e.value=!0,oe.value=r.saveTip)},et=()=>{b.value||(Y.value="delete",_e.value=!0,oe.value=r.clearTip)},tt=async()=>{if(fe.value=!0,Y.value==="download"){console.log("download");try{const e=document.getElementById("chat-ul"),a=(await wt(e,{useCORS:!0})).toDataURL("image/png"),n=document.createElement("a");n.style.display="none",n.href=a,n.setAttribute("download","chat-shot.png"),typeof n.download>"u"&&n.setAttribute("target","_blank"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(a),k.success("下载成功"),Promise.resolve()}catch(e){console.log(e),k.error(e.message||e.msg||"出错了")}}else Y.value==="delete"&&(console.log("delete"),he(y.value),y.value=null,l.value=[]);Y.value="",oe.value="",fe.value=!1,_e.value=!1},{showSettingModal:st}=B(Te()),ot=e=>{st.value=e},De=D(),at=()=>De.value.handleOk();let Ae=["pdf","docx","xlsx","txt","md","jpg","png","jpeg","csv","eml"];const Ie=e=>{if(!e)return!1;const t=e.split(".");if(t.length){const a=t.pop();return!!Ae.includes(a)}else return!1},nt=e=>{console.log("handleChatSource",e),Ie(e.file_name)&&lt(e)};async function lt(e){try{ee(null);const t=await Oe(await ye.getFile({file_id:e.file_id}));console.log("queryFile",t);const a=e.file_name.split(".").pop(),n=it(a);if(console.log("b64Type",n),pe(a),ee(`data:${n};base64,${t.file_base64}`),a==="txt"||a==="md"||a==="csv"||a==="eml"){const T=atob(t.file_base64),c=decodeURIComponent(escape(T));console.log("decodedTxt",c),C(c),P(!0)}else P(!0)}catch(t){k.error(t.msg||"获取文件失败")}}let ct=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain","text/markdown","image/jpeg","image/png","image/jpeg","text/csv","message/rfc822","application/vnd.openxmlformats-officedocument.presentationml.presentation"];function it(e){const t=Ae.indexOf(e);return ct[t]}function rt(){console.log("清空")}return(e,t)=>{const a=Ot,n=Tt,T=Bt;return p(),_(J,null,[h(rs,{observer:s(ke),"observe-dom":s(te),"qa-observe-dom":s(se),"qa-observer":s(we),"show-loading":s(b),onScrollBottom:O,onSetObserveDom:He,onSetQaObserverDom:Ke,onClearHistory:rt},null,8,["observer","observe-dom","qa-observe-dom","qa-observer","show-loading"]),o("div",us,[o("div",ds,[o("div",{id:"chat",ref_key:"chatContainer",ref:Re,class:"chat showSider"},[o("ul",{id:"chat-ul",ref_key:"scrollDom",ref:be},[(p(!0),_(J,null,ge(s(l),(c,I)=>{var xe,qe;return p(),_("li",{key:I},[c.type==="user"?(p(),_("div",hs,[ps,o("p",vs,f(c.question),1)])):(p(),_("div",_s,[fs,o("div",ms,[o("div",gs,[o("p",{class:F(["question-text",[!c.source.length&&!((xe=c==null?void 0:c.picList)!=null&&xe.length)?"change-radius":"",c.showTools?"":"flashing"]])},[h(Be,{content:c.answer.toString()},null,8,["content"]),Object.keys(((qe=c==null?void 0:c.itemInfo)==null?void 0:qe.tokenInfo)||{}).length?(p(),le(qt,{key:0,"chat-item-info":c.itemInfo},null,8,["chat-item-info"])):Q("",!0)],2),c.source.length?(p(),_(J,{key:0},[o("div",{class:F(["source-total",s(x).includes(I)?"":"source-total-last"])},[s(A)==="zh"?(p(),_("span",ys," 找到了"+f(c.source.length)+"个信息来源： ",1)):(p(),_("span",bs," Found "+f(c.source.length)+" source of information ",1)),E(h(S,{name:"down",onClick:g=>Ze(I)},null,8,["onClick"]),[[R,!s(x).includes(I)]]),E(h(S,{name:"up",onClick:g=>We(I)},null,8,["onClick"]),[[R,s(x).includes(I)]])],2),E(o("div",ks,[(p(!0),_(J,null,ge(c.source,(g,ae)=>(p(),_("div",{key:ae,class:"data-source"},[E(o("p",ws,[o("span",Cs,f(s(r).dataSource)+f(ae+1)+":",1),g.file_url.startsWith("http")?(p(),_("a",{key:0,href:g.file_url,target:"_blank"},f(g.file_name),9,Ss)):(p(),_("span",{key:1,class:F(["file",Ie(g.file_name)?"filename-active":""]),onClick:$e=>nt(g)},f(g.file_name),11,Ds)),E(h(S,{name:"iconup",onClick:$e=>Xe(c,ae)},null,8,["onClick"]),[[R,g.showDetailDataSource]]),E(h(S,{name:"icondown",onClick:$e=>Je(c,ae)},null,8,["onClick"]),[[R,!g.showDetailDataSource]])],512),[[R,g.file_name]]),h(pt,{name:"sourceitem"},{default:q(()=>[E(o("div",As,[h(Be,{content:g.content},null,8,["content"]),o("p",Is,[o("span",xs,f(s(r).correlation),1),z(" "+f(g.score),1)])],512),[[R,g.showDetailDataSource]])]),_:2},1024)]))),128))],512),[[R,s(x).includes(I)]])],64)):Q("",!0),c.showTools?(p(),_("div",qs,[o("div",{class:"reload-box",onClick:g=>Ye(c)},[h(S,{name:"reload"}),o("span",Ls,f(s(r).regenerate),1)],8,$s),o("div",Os,[h(S,{style:me({color:c.copied?"#4D71FF":""}),name:"copy",onClick:g=>Ue(c)},null,8,["style","onClick"]),h(S,{style:me({color:c.like?"#4D71FF":""}),name:"like",onClick:g=>s(Qe)(c,g)},null,8,["style","onClick"]),h(S,{style:me({color:c.unlike?"#4D71FF":""}),name:"unlike",onClick:g=>je(c)},null,8,["style","onClick"])])])):Q("",!0)])])]))])}),128))],512)],512),s(b)?(p(),_("div",Ts,[h(a,{onClick:Pe},{icon:q(()=>[h(S,{name:"stop",class:F(s(b)?"loading":"")},null,8,["class"])]),default:q(()=>[z(" "+f(s(r).stop),1)]),_:1})])):Q("",!0),o("div",Bs,[o("div",Fs,[o("div",Es,[h(n,{value:s(i),"onUpdate:value":t[0]||(t[0]=c=>vt(i)?i.value=c:null),class:"send-textarea","max-length":"200",bordered:!1,placeholder:s(r).problemPlaceholder,"auto-size":{minRows:1,maxRows:8},onKeydown:Ne},null,8,["value","placeholder"]),o("div",Rs,[h(T,{placement:"topLeft"},{content:q(()=>[z(f(s(r).chatToPic),1)]),default:q(()=>[o("span",{class:F(["download",s(b)?"isPreventClick":""]),onClick:Ge},[h(S,{name:"chat-download"})],2)]),_:1}),h(T,null,{content:q(()=>[z(f(s(r).clearChat),1)]),default:q(()=>[o("span",{class:F(["delete",s(b)?"isPreventClick":""]),onClick:et},[h(S,{name:"chat-delete"})],2)]),_:1}),h(T,null,{content:q(()=>[z(f(s(r).modelSettingTitle),1)]),default:q(()=>[o("span",{class:"setting",onClick:t[1]||(t[1]=c=>ot(!0))},[h(S,{name:"chat-setting"})])]),_:1}),h(a,{type:"primary",disabled:s(b),shape:"circle",onClick:ve},{default:q(()=>[h(S,{name:"sendplane"})]),_:1},8,["disabled"])])])])])]),o("div",{class:"scroll-btn-div"},[o("img",{class:"avatar",src:At,alt:"滑到底部",onClick:O})])]),h($t,{ref_key:"chatSettingForDialogRef",ref:De},null,512),h(bt,{content:s(oe),"confirm-loading":s(fe),onOk:tt},null,8,["content","confirm-loading"])],64)}}}),Qs=W(Ns,[["__scopeId","data-v-ca948db2"]]),js={class:"page"},Us={class:"container"},zs={key:0,class:"initing"},Hs=Z({__name:"Home",setup(v){const{showDefault:r}=B(X()),{setDefault:u,getList:m}=X(),w=l=>{u(l),m()};return Fe(()=>{m()}),(l,y)=>(p(),_("div",js,[o("div",Us,[s(r)===s(ne).initing?(p(),_("div",zs)):Q("",!0),s(r)===s(ne).default?(p(),le(Gt,{key:1,onChange:w})):s(r)===s(ne).normal?(p(),le(Qs,{key:2})):s(r)===s(ne).optionlist?(p(),le(It,{key:3})):Q("",!0)])]))}}),Co=W(Hs,[["__scopeId","data-v-9dc9deec"]]);export{Co as default};
